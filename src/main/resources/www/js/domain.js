// Generated by CoffeeScript 1.3.3
var Resource, Resources, Tag;

Tag = (function() {

  function Tag(name, text) {
    this.name = name;
    this.text = text;
  }

  return Tag;

})();

Resource = (function() {

  function Resource(id, tags) {
    this.id = id;
    this.tags = tags;
  }

  return Resource;

})();

Resources = (function() {

  function Resources(resources) {
    this.resources = resources;
  }

  Resources.prototype.tags = function() {
    return _.uniq(_.flatten(_.union(_.pluck(this.resources, 'tags'))), false, function(t) {
      return t.name;
    });
  };

  Resources.prototype.byTagName = function(tagName) {
    return _.filter(this.resources, function(re) {
      return _.contains(_.pluck(re.tags, 'name'), tagName);
    });
  };

  Resources.prototype.tagRelations = function() {
    var pai, pair, result, _i, _len;
    result = [];
    pai = _.flatten(_.map(this.resources, function(re) {
      return pairs(_.pluck(re.tags, 'name'));
    }), true);
    for (_i = 0, _len = pai.length; _i < _len; _i++) {
      pair = pai[_i];
      result.push(pair);
    }
    return result;
  };

  return Resources;

})();
