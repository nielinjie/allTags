// Generated by CoffeeScript 1.3.3
var AllTags;

AllTags = (function() {

  AllTags.prototype.node = function(tag) {
    return this.sys.addNode(tag.name, {
      text: tag.text
    });
  };

  AllTags.prototype.edge = function(a, b) {
    return this.sys.addEdge(a, b);
  };

  function AllTags(canvas, callback, size, resources) {
    var that;
    this.canvas = canvas;
    this.callback = callback;
    this.size = size;
    this.resources = resources;
    this.sys = arbor.ParticleSystem(this.size[0], this.size[1], 0.5);
    this.sys.parameters({
      gravity: true
    });
    this.sys.renderer = Renderer(this.canvas, {
      'clicked': this.callback
    });
    that = this;
    _.each(this.resources.tags(), function(tag) {
      return that.node(tag);
    });
    _.each(this.resources.tagRelations(), function(r) {
      return that.edge(r[0], r[1]);
    });
  }

  return AllTags;

})();
